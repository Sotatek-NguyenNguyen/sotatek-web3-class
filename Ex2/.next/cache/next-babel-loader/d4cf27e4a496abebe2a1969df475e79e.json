{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _connectorsByName,\n    _jsxFileName = \"/Users/sotatek/Documents/Blockchain/web3/web3-react/example/pages/index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s8 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Web3ReactProvider, useWeb3React, UnsupportedChainIdError } from '@web3-react/core';\nimport { NoEthereumProviderError, UserRejectedRequestError as UserRejectedRequestErrorInjected } from '@web3-react/injected-connector';\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from '@web3-react/walletconnect-connector';\nimport { UserRejectedRequestError as UserRejectedRequestErrorFrame } from '@web3-react/frame-connector';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { formatEther } from '@ethersproject/units';\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useEagerConnect, useInactiveListener } from '../hooks';\nimport { injected, walletconnect } from '../connectors';\nimport { Spinner } from '../components/Spinner';\nimport contractABI from '../ABI/contractABI.json';\nvar ConnectorNames;\n\n(function (ConnectorNames) {\n  ConnectorNames[\"Injected\"] = \"MetaMask\";\n  ConnectorNames[\"Network\"] = \"Network\";\n  ConnectorNames[\"WalletConnect\"] = \"WalletConnect\";\n})(ConnectorNames || (ConnectorNames = {}));\n\nvar connectorsByName = (_connectorsByName = {}, _defineProperty(_connectorsByName, ConnectorNames.Injected, injected), _defineProperty(_connectorsByName, ConnectorNames.WalletConnect, walletconnect), _connectorsByName);\n\nfunction getErrorMessage(error) {\n  if (error instanceof NoEthereumProviderError) {\n    return 'No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.';\n  } else if (error instanceof UnsupportedChainIdError) {\n    return \"You're connected to an unsupported network.\";\n  } else if (error instanceof UserRejectedRequestErrorInjected || error instanceof UserRejectedRequestErrorWalletConnect || error instanceof UserRejectedRequestErrorFrame) {\n    return 'Please authorize this website to access your Ethereum account.';\n  } else {\n    console.error(error);\n    return 'An unknown error occurred. Check the console for more details.';\n  }\n}\n\nfunction getLibrary(provider) {\n  var library = new Web3Provider(provider);\n  library.pollingInterval = 12000;\n  return library;\n}\n\nexport default function () {\n  return __jsx(Web3ReactProvider, {\n    getLibrary: getLibrary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction ChainId() {\n  _s();\n\n  var _useWeb3React = useWeb3React(),\n      chainId = _useWeb3React.chainId;\n\n  var chainNames = [];\n  chainNames[1] = \"Mainnet\";\n  chainNames[2] = \"Expanse\";\n  chainNames[3] = \"Ropsten\";\n  chainNames[4] = \"Rinkeby\";\n  chainNames[5] = \"GÃ¶rli\";\n  chainNames[6] = \"Classic\";\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Chain Id\"), __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"chain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"\\u26D3\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, chainId ? chainNames[chainId] : ''));\n}\n\n_s(ChainId, \"reA9FJLirN6bQm5X4sUUozGx1bA=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = ChainId;\n\nfunction BlockNumber() {\n  _s2();\n\n  var _useWeb3React2 = useWeb3React(),\n      chainId = _useWeb3React2.chainId,\n      library = _useWeb3React2.library;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      blockNumber = _React$useState2[0],\n      setBlockNumber = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (!!library) {\n      var stale = false;\n      library.getBlockNumber().then(function (blockNumber) {\n        if (!stale) {\n          setBlockNumber(blockNumber);\n        }\n      })[\"catch\"](function () {\n        if (!stale) {\n          setBlockNumber(null);\n        }\n      });\n\n      var updateBlockNumber = function updateBlockNumber(blockNumber) {\n        setBlockNumber(blockNumber);\n      };\n\n      library.on('block', updateBlockNumber);\n      return function () {\n        stale = true;\n        library.removeListener('block', updateBlockNumber);\n        setBlockNumber(undefined);\n      };\n    }\n  }, [library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Block Number\"), __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"numbers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDD22\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, blockNumber === null ? 'Error' : blockNumber !== null && blockNumber !== void 0 ? blockNumber : ''));\n}\n\n_s2(BlockNumber, \"0DoBuqyGtF4sYtNebgbnhkk9wTw=\", false, function () {\n  return [useWeb3React];\n});\n\n_c2 = BlockNumber;\n\nfunction Account() {\n  _s3();\n\n  var _useWeb3React3 = useWeb3React(),\n      account = _useWeb3React3.account;\n\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, \"Account\"), __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"robot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, \"\\uD83E\\uDD16\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, account === null ? '-' : account ? \"\".concat(account.substring(0, 6), \"...\").concat(account.substring(account.length - 4)) : ''));\n}\n\n_s3(Account, \"Yw4fkvk9SNw3FxQ8wmZp/p1e7+E=\", false, function () {\n  return [useWeb3React];\n});\n\n_c3 = Account;\n\nfunction Balance() {\n  _s4();\n\n  var _useWeb3React4 = useWeb3React(),\n      account = _useWeb3React4.account,\n      library = _useWeb3React4.library,\n      chainId = _useWeb3React4.chainId;\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      balance = _React$useState4[0],\n      setBalance = _React$useState4[1];\n\n  React.useEffect(function () {\n    if (!!account && !!library) {\n      var stale = false;\n      library.getBalance(account).then(function (balance) {\n        if (!stale) {\n          setBalance(balance);\n        }\n      })[\"catch\"](function () {\n        if (!stale) {\n          setBalance(null);\n        }\n      });\n      return function () {\n        stale = true;\n        setBalance(undefined);\n      };\n    }\n  }, [account, library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, \"Balance\"), __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"gold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDCB0\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, balance === null ? 'Error' : balance ? \"\\u039E\".concat(formatEther(balance)) : ''));\n}\n\n_s4(Balance, \"M1WVM1XYBvl8/UPoZ+Zp2BzPIno=\", false, function () {\n  return [useWeb3React];\n});\n\n_c4 = Balance;\n\nfunction BalanceWETH() {\n  _s5();\n\n  var _useWeb3React5 = useWeb3React(),\n      account = _useWeb3React5.account,\n      library = _useWeb3React5.library,\n      chainId = _useWeb3React5.chainId;\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      balanceWETH = _React$useState6[0],\n      setBalanceWETH = _React$useState6[1];\n\n  React.useEffect(function () {\n    if (!!account && !!library) {\n      var stale = false;\n      var myContract = new Contract(\"0xc778417E063141139Fce010982780140Aa0cD5Ab\", contractABI, library.getSigner());\n\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var balanceEth;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return myContract.balanceOf(account);\n\n              case 2:\n                balanceEth = _context.sent;\n                setBalanceWETH(balanceEth);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n\n      return function () {\n        stale = true;\n        setBalanceWETH(undefined);\n      };\n    }\n  }, [account, library, chainId]);\n  return __jsx(React.Fragment, null, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, \"balanceWETH\"), __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"gold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDCB0\"), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, balanceWETH === null ? 'Error' : balanceWETH ? \"\\u039E\".concat(formatEther(balanceWETH)) : ''));\n}\n\n_s5(BalanceWETH, \"sQU2TV+q2en8Z6RC6RMeTfzwcOk=\", false, function () {\n  return [useWeb3React];\n});\n\n_c5 = BalanceWETH;\n\nfunction Header() {\n  _s6();\n\n  var _useWeb3React6 = useWeb3React(),\n      active = _useWeb3React6.active,\n      error = _useWeb3React6.error;\n\n  return __jsx(React.Fragment, null, __jsx(\"h1\", {\n    style: {\n      margin: '1rem',\n      textAlign: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, active ? 'ðŸŸ¢' : error ? 'ðŸ”´' : 'ðŸŸ '), __jsx(\"h3\", {\n    style: {\n      display: 'grid',\n      gridGap: '1rem',\n      gridTemplateColumns: '1fr min-content 1fr',\n      maxWidth: '20rem',\n      lineHeight: '2rem',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }, __jsx(ChainId, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }), __jsx(Account, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }), __jsx(Balance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }), __jsx(BalanceWETH, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s6(Header, \"5Wc8Z9LF2TZggKnK8RHaXo3D1Z0=\", false, function () {\n  return [useWeb3React];\n});\n\n_c6 = Header;\n\nfunction App() {\n  _s8();\n\n  var _this = this;\n\n  var context = useWeb3React();\n  var connector = context.connector,\n      library = context.library,\n      chainId = context.chainId,\n      account = context.account,\n      activate = context.activate,\n      deactivate = context.deactivate,\n      active = context.active,\n      error = context.error; // handle logic to recognize the connector currently being activated\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      activatingConnector = _React$useState8[0],\n      setActivatingConnector = _React$useState8[1];\n\n  React.useEffect(function () {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]); // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n\n  var triedEager = useEagerConnect(); // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n\n  useInactiveListener(!triedEager || !!activatingConnector);\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      deposit = _React$useState10[0],\n      setDeposit = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      withdraw = _React$useState12[0],\n      setWithdraw = _React$useState12[1];\n\n  function handleDeposit() {\n    return _handleDeposit.apply(this, arguments);\n  }\n\n  function _handleDeposit() {\n    var _s7 = $RefreshSig$();\n\n    _handleDeposit = _asyncToGenerator(_s7( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _useWeb3React7, account, library, chainId, myContract, tokenAddr, contr;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _s7();\n\n              _useWeb3React7 = useWeb3React(), account = _useWeb3React7.account, library = _useWeb3React7.library, chainId = _useWeb3React7.chainId;\n\n              if (!(!!account && !!library)) {\n                _context2.next = 10;\n                break;\n              }\n\n              myContract = new Contract(\"0xc778417E063141139Fce010982780140Aa0cD5Ab\", contractABI, library.getSigner());\n              tokenAddr = '0xc778417e063141139fce010982780140aa0cd5ab';\n              _context2.next = 7;\n              return new library.Contract(contractABI, tokenAddr);\n\n            case 7:\n              contr = _context2.sent;\n              _context2.next = 10;\n              return contr.methods.deposit().send({\n                from: account,\n                value: deposit\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }), \"pTNk0OVn9qPHgCCNxwp4GwKRnjE=\", false, function () {\n      return [useWeb3React];\n    }));\n    return _handleDeposit.apply(this, arguments);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }), __jsx(\"hr\", {\n    style: {\n      margin: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    style: {\n      display: 'grid',\n      gridGap: '1rem',\n      gridTemplateColumns: '1fr 1fr',\n      maxWidth: '20rem',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }\n  }, Object.keys(connectorsByName).map(function (name) {\n    var currentConnector = connectorsByName[name];\n    var activating = currentConnector === activatingConnector;\n    var connected = currentConnector === connector;\n    var disabled = !triedEager || !!activatingConnector || connected || !!error;\n    return __jsx(\"button\", {\n      style: {\n        height: '3rem',\n        borderRadius: '1rem',\n        borderColor: activating ? 'orange' : connected ? 'green' : 'unset',\n        cursor: disabled ? 'unset' : 'pointer',\n        position: 'relative'\n      },\n      disabled: disabled,\n      key: name,\n      onClick: function onClick() {\n        setActivatingConnector(currentConnector);\n        activate(connectorsByName[name]);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        color: 'black',\n        margin: '0 0 0 1rem'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }\n    }, activating && __jsx(Spinner, {\n      color: 'black',\n      style: {\n        height: '25%',\n        marginLeft: '-1rem'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 32\n      }\n    }), connected && __jsx(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"check\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 19\n      }\n    }, \"\\u2705\")), name);\n  })), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }\n  }, (active || error) && __jsx(\"button\", {\n    style: {\n      height: '3rem',\n      marginTop: '2rem',\n      borderRadius: '1rem',\n      borderColor: 'red',\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      deactivate();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, \"Deactivate\"), !!error && __jsx(\"h4\", {\n    style: {\n      marginTop: '1rem',\n      marginBottom: '0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 21\n    }\n  }, getErrorMessage(error))), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }\n  }, (active || error) && __jsx(\"input\", {\n    name: \"deposit\",\n    value: deposit,\n    onChange: function onChange(e) {\n      return setDeposit(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }\n  }), (active || error) && __jsx(\"button\", {\n    style: {\n      height: '3rem',\n      marginTop: '2rem',\n      borderRadius: '1rem',\n      borderColor: 'red',\n      cursor: 'pointer'\n    },\n    onClick: handleDeposit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 11\n    }\n  }, \"Deposit\")));\n}\n\n_s8(App, \"oiSwdnYJKIZWfE3rY9+b4k5UcO8=\", false, function () {\n  return [useWeb3React, useEagerConnect, useInactiveListener];\n});\n\n_c7 = App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"ChainId\");\n$RefreshReg$(_c2, \"BlockNumber\");\n$RefreshReg$(_c3, \"Account\");\n$RefreshReg$(_c4, \"Balance\");\n$RefreshReg$(_c5, \"BalanceWETH\");\n$RefreshReg$(_c6, \"Header\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"sources":["/Users/sotatek/Documents/Blockchain/web3/web3-react/example/pages/index.tsx"],"names":["React","Web3ReactProvider","useWeb3React","UnsupportedChainIdError","NoEthereumProviderError","UserRejectedRequestError","UserRejectedRequestErrorInjected","UserRejectedRequestErrorWalletConnect","UserRejectedRequestErrorFrame","Web3Provider","formatEther","Contract","useEagerConnect","useInactiveListener","injected","walletconnect","Spinner","contractABI","ConnectorNames","connectorsByName","Injected","WalletConnect","getErrorMessage","error","console","getLibrary","provider","library","pollingInterval","ChainId","chainId","chainNames","BlockNumber","useState","blockNumber","setBlockNumber","useEffect","stale","getBlockNumber","then","updateBlockNumber","on","removeListener","undefined","Account","account","substring","length","Balance","balance","setBalance","getBalance","BalanceWETH","balanceWETH","setBalanceWETH","myContract","getSigner","balanceOf","balanceEth","Header","active","margin","textAlign","display","gridGap","gridTemplateColumns","maxWidth","lineHeight","App","context","connector","activate","deactivate","activatingConnector","setActivatingConnector","triedEager","deposit","setDeposit","withdraw","setWithdraw","handleDeposit","tokenAddr","contr","methods","send","from","value","Object","keys","map","name","currentConnector","activating","connected","disabled","height","borderRadius","borderColor","cursor","position","top","left","alignItems","color","marginLeft","flexDirection","marginTop","marginBottom","e","target"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Web3ReactProvider, useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\n} from '@web3-react/injected-connector'\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from '@web3-react/walletconnect-connector'\nimport { UserRejectedRequestError as UserRejectedRequestErrorFrame } from '@web3-react/frame-connector'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { formatEther } from '@ethersproject/units'\nimport { Contract } from \"@ethersproject/contracts\";\n\nimport { useEagerConnect, useInactiveListener } from '../hooks'\nimport {\n  injected,\n  network,\n  walletconnect\n\n} from '../connectors'\nimport { Spinner } from '../components/Spinner'\nimport contractABI from '../ABI/contractABI.json'\n\nenum ConnectorNames {\n  Injected = 'MetaMask',\n  Network = 'Network',\n  WalletConnect = 'WalletConnect'\n\n}\n\nconst connectorsByName: { [connectorName in ConnectorNames]: any } = {\n  [ConnectorNames.Injected]: injected,\n  [ConnectorNames.WalletConnect]: walletconnect\n\n}\n\nfunction getErrorMessage(error: Error) {\n  if (error instanceof NoEthereumProviderError) {\n    return 'No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.'\n  } else if (error instanceof UnsupportedChainIdError) {\n    return \"You're connected to an unsupported network.\"\n  } else if (\n    error instanceof UserRejectedRequestErrorInjected ||\n    error instanceof UserRejectedRequestErrorWalletConnect ||\n    error instanceof UserRejectedRequestErrorFrame\n  ) {\n    return 'Please authorize this website to access your Ethereum account.'\n  } else {\n    console.error(error)\n    return 'An unknown error occurred. Check the console for more details.'\n  }\n}\n\nfunction getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider)\n  library.pollingInterval = 12000\n  return library\n}\n\nexport default function() {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <App />\n    </Web3ReactProvider>\n  )\n}\n\nfunction ChainId() {\n  const { chainId } = useWeb3React()\n\n  let chainNames = [];\n    chainNames[1] = \"Mainnet\";\n    chainNames[2] = \"Expanse\";\n    chainNames[3] = \"Ropsten\";\n    chainNames[4] = \"Rinkeby\";\n    chainNames[5] = \"GÃ¶rli\";\n    chainNames[6] = \"Classic\";\n\n  return (\n    <>\n      <span>Chain Id</span>\n      <span role=\"img\" aria-label=\"chain\">\n        â›“\n      </span>\n      <span>{chainId ? chainNames[chainId] : ''}</span>\n    </>\n  )\n}\n\nfunction BlockNumber() {\n  const { chainId, library } = useWeb3React()\n\n  const [blockNumber, setBlockNumber] = React.useState<number>()\n  React.useEffect((): any => {\n    if (!!library) {\n      let stale = false\n\n      library\n        .getBlockNumber()\n        .then((blockNumber: number) => {\n          if (!stale) {\n            setBlockNumber(blockNumber)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setBlockNumber(null)\n          }\n        })\n\n      const updateBlockNumber = (blockNumber: number) => {\n        setBlockNumber(blockNumber)\n      }\n      library.on('block', updateBlockNumber)\n\n      return () => {\n        stale = true\n        library.removeListener('block', updateBlockNumber)\n        setBlockNumber(undefined)\n      }\n    }\n  }, [library, chainId]) // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return (\n    <>\n      <span>Block Number</span>\n      <span role=\"img\" aria-label=\"numbers\">\n        ðŸ”¢\n      </span>\n      <span>{blockNumber === null ? 'Error' : blockNumber ?? ''}</span>\n    </>\n  )\n}\n\nfunction Account() {\n  const { account } = useWeb3React()\n\n  return (\n    <>\n      <span>Account</span>\n      <span role=\"img\" aria-label=\"robot\">\n        ðŸ¤–\n      </span>\n      <span>\n        {account === null\n          ? '-'\n          : account\n          ? `${account.substring(0, 6)}...${account.substring(account.length - 4)}`\n          : ''}\n      </span>\n    </>\n  )\n}\n\nfunction Balance() {\n  const { account, library, chainId } = useWeb3React()\n\n  const [balance, setBalance] = React.useState()\n  React.useEffect((): any => {\n    if (!!account && !!library) {\n      let stale = false\n\n      library\n        .getBalance(account)\n        .then((balance: any) => {\n          if (!stale) {\n            setBalance(balance)\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setBalance(null)\n          }\n        })\n\n      return () => {\n        stale = true\n        setBalance(undefined)\n      }\n    }\n  }, [account, library, chainId]) // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return (\n    <>\n      <span>Balance</span>\n      <span role=\"img\" aria-label=\"gold\">\n        ðŸ’°\n      </span>\n      <span>{balance === null ? 'Error' : balance ? `Îž${formatEther(balance)}` : ''}</span>\n    </>\n  )\n}\n\nfunction BalanceWETH() {\n  const { account, library, chainId } = useWeb3React();\n  const [balanceWETH, setBalanceWETH] = React.useState();\n\n  React.useEffect((): any => {\n    if (!!account && !!library) {\n      let stale = false\n\n        const myContract = new Contract(\n            \"0xc778417E063141139Fce010982780140Aa0cD5Ab\",\n            contractABI,\n            library.getSigner()\n        );\n\n        (async function () {\n            const balanceEth = await myContract.balanceOf(account);\n            setBalanceWETH(balanceEth);\n        })();\n\n      return () => {\n        stale = true\n        setBalanceWETH(undefined)\n      }\n    }\n  }, [account, library, chainId])\n\n  return (\n    <>\n      <span>balanceWETH</span>\n      <span role=\"img\" aria-label=\"gold\">\n        ðŸ’°\n      </span>\n      <span>{balanceWETH === null ? 'Error' : balanceWETH ? `Îž${formatEther(balanceWETH)}` : ''}</span>\n    </>\n  )\n}\n\nfunction Header() {\n  const { active, error } = useWeb3React()\n\n  return (\n    <>\n      <h1 style={{ margin: '1rem', textAlign: 'right' }}>{active ? 'ðŸŸ¢' : error ? 'ðŸ”´' : 'ðŸŸ '}</h1>\n      <h3\n        style={{\n          display: 'grid',\n          gridGap: '1rem',\n          gridTemplateColumns: '1fr min-content 1fr',\n          maxWidth: '20rem',\n          lineHeight: '2rem',\n          margin: 'auto'\n        }}\n      >\n        <ChainId />\n        <Account />\n        <Balance />\n        <BalanceWETH />\n\n      </h3>\n    </>\n  )\n}\n\nfunction App() {\n  const context = useWeb3React<Web3Provider>()\n  const { connector, library, chainId, account, activate, deactivate, active, error } = context\n\n  // handle logic to recognize the connector currently being activated\n  const [activatingConnector, setActivatingConnector] = React.useState<any>()\n  React.useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined)\n    }\n  }, [activatingConnector, connector])\n\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n  useInactiveListener(!triedEager || !!activatingConnector)\n\n  const [deposit, setDeposit] = React.useState('');\n  const [withdraw, setWithdraw] = React.useState('');\n\n  async function handleDeposit() {\n        const { account, library, chainId } = useWeb3React();\n        if (!!account && !!library) {\n            const myContract = new Contract(\n                    \"0xc778417E063141139Fce010982780140Aa0cD5Ab\",\n                    contractABI,\n                    library.getSigner()\n                );\n\n\n            const tokenAddr = '0xc778417e063141139fce010982780140aa0cd5ab';\n            const contr = await new library.Contract(contractABI, tokenAddr);\n            await contr.methods.deposit().send({ from: account, value: deposit });\n\n\n        }\n\n\n  }\n\n  return (\n    <>\n      <Header />\n      <hr style={{ margin: '2rem' }} />\n      <div\n        style={{\n          display: 'grid',\n          gridGap: '1rem',\n          gridTemplateColumns: '1fr 1fr',\n          maxWidth: '20rem',\n          margin: 'auto'\n        }}\n      >\n        {Object.keys(connectorsByName).map(name => {\n          const currentConnector = connectorsByName[name]\n          const activating = currentConnector === activatingConnector\n          const connected = currentConnector === connector\n          const disabled = !triedEager || !!activatingConnector || connected || !!error\n\n          return (\n            <button\n              style={{\n                height: '3rem',\n                borderRadius: '1rem',\n                borderColor: activating ? 'orange' : connected ? 'green' : 'unset',\n                cursor: disabled ? 'unset' : 'pointer',\n                position: 'relative'\n              }}\n              disabled={disabled}\n              key={name}\n              onClick={() => {\n                setActivatingConnector(currentConnector)\n                activate(connectorsByName[name])\n              }}\n            >\n              <div\n                style={{\n                  position: 'absolute',\n                  top: '0',\n                  left: '0',\n                  height: '100%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  color: 'black',\n                  margin: '0 0 0 1rem'\n                }}\n              >\n                {activating && <Spinner color={'black'} style={{ height: '25%', marginLeft: '-1rem' }} />}\n                {connected && (\n                  <span role=\"img\" aria-label=\"check\">\n                    âœ…\n                  </span>\n                )}\n              </div>\n              {name}\n            </button>\n          )\n        })}\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        {(active || error) && (\n          <button\n            style={{\n              height: '3rem',\n              marginTop: '2rem',\n              borderRadius: '1rem',\n              borderColor: 'red',\n              cursor: 'pointer'\n            }}\n            onClick={() => {\n              deactivate()\n            }}\n          >\n            Deactivate\n          </button>\n        )}\n\n        {!!error && <h4 style={{ marginTop: '1rem', marginBottom: '0' }}>{getErrorMessage(error)}</h4>}\n      </div>\n\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n\n        {(active || error) && (\n            <input name=\"deposit\" value={deposit} onChange={e => setDeposit(e.target.value)} />\n        )}\n\n        {(active || error) && (\n          <button\n            style={{\n              height: '3rem',\n              marginTop: '2rem',\n              borderRadius: '1rem',\n              borderColor: 'red',\n              cursor: 'pointer'\n            }}\n            onClick={handleDeposit}\n          >\n            Deposit\n          </button>\n\n        )}\n\n      </div>\n\n\n\n\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}